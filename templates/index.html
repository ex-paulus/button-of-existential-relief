
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–ó—Ä–æ–±–∏—Ç–∏ –í—Å–µ –ó–∞—î–±—ñ—Å–¨!</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Theme Toggle -->
    <div class="theme-toggle">
      <span class="icon">‚òÄÔ∏è</span>
      <label class="switch">
        <input type="checkbox" id="theme-switch">
        <span class="slider round"></span>
      </label>
      <span class="icon">üåô</span>
    </div>

    <div class="container">
        <h1>–ö–Ω–æ–ø–∫–∞: –ó–†–û–ë–ò–¢–ò –í–°–ï –ó–ê–Ñ–ë–Ü–°–¨!</h1>
        <label for="mode">–†–µ–∂–∏–º –Ω–∞—Å—Ç—Ä–æ—é:</label>
        <select id="mode">
            <option value="normal" title="–ü—Ä–æ—Å—Ç–æ –ø–æ—Ä–∞–¥–∞ ‚Äî –∑ –≤—ñ–¥–∫—Ä–∏—Ç–æ–≥–æ –¥–∂–µ—Ä–µ–ª–∞.">–ü—Ä–æ—Å—Ç–æ –ø–æ—Ä–∞–¥–∞</option>
            <option value="sos" title="–§—Ä–∞–∑–∏, –∫–æ–ª–∏ –∑–¥–∞—î—Ç—å—Å—è, —â–æ —Å–≤—ñ—Ç —Å–∏–ø–ª–µ—Ç—å—Å—è. –ê–ª–µ —Ç–∏ —â–µ —Ç—Ä–∏–º–∞—î—à—Å—è.">–°–≤—ñ—Ç –ø–∞–ª–∞—î</option>
            <option value="good" title="–¢–æ–±—ñ –≤–∂–µ –¥–æ–±—Ä–µ, –∞–ª–µ —á–æ–º—É –± –Ω–µ —â–µ –∫—Ä–∞—â–µ?">–£ –º–µ–Ω–µ –≤—Å–µ –¥–æ–±—Ä–µ</option>
            <option value="smoke" title="–¶–µ —Ç–æ–π –º–æ–º–µ–Ω—Ç, –∫–æ–ª–∏ –Ω—ñ—á–æ–≥–æ –Ω–µ —Ç—Ä–µ–±–∞. –ü—Ä–æ—Å—Ç–æ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏.">–î–∏–º-—Å–∏–≥–Ω–∞–ª</option>
        </select>
        <button onclick="getAdvice()">–ù–∞—Ç–∏—Å–Ω–∏ –º–µ–Ω–µ</button>
        <div id="advice"></div>
    </div>

    <script>
        function getAdvice() {
            const mode = document.getElementById("mode").value;
            fetch(`/get-advice?mode=${mode}`)
                .then(response => response.json())
                .then(data => {
                    document.getElementById("advice").innerText = data.advice;
                });
        }

        // Dark/light theme toggle with localStorage
        document.addEventListener('DOMContentLoaded', function () {
            const toggle = document.getElementById('theme-switch');
            const isDark = localStorage.getItem('theme') === 'dark';

            if (isDark) {
                document.body.classList.add('dark-mode');
                toggle.checked = true;
            }

            toggle.addEventListener('change', function () {
                if (this.checked) {
                    document.body.classList.add('dark-mode');
                    localStorage.setItem('theme', 'dark');
                } else {
                    document.body.classList.remove('dark-mode');
                    localStorage.setItem('theme', 'light');
                }
            });
        });
    </script>
</body>
</html>
